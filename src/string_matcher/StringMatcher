package string_matcher;

import java.io.File;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.nio.channels.SeekableByteChannel;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.ArrayList;

public class StringMatcher
{
    public static void main(String[] args)
    {
        File largeText = new File("http://norvig.com/big.txt");
        ArrayList<String> batches = new ArrayList<>();
        try (SeekableByteChannel ch = Files.newByteChannel(Paths.get("http://norvig.com/big.txt")))
        {
            ByteBuffer bb = ByteBuffer.allocateDirect((int)Math.pow(2,16));
            for (; ; )
            {
                int lineCount = 0;
                StringBuilder line = new StringBuilder();
                while(lineCount < 100)
                {
                    int n = ch.read(bb);
                    line.append(n);
                    if(n == '\n')
                        lineCount++;
                }
                batches.add(line.toString());
                line.replace(0,line.length(),"");
            }
        } catch (IOException e)
        {
            e.printStackTrace();
        }

    }
}
